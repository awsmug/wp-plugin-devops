#!/bin/sh

export SCRIPT_PATH=$(dirname $0)
export PLUGIN_PATH=$(dirname $SCRIPT_PATH)
export PLUGIN_SLUG=$(basename $PLUGIN_PATH)
export BIN_PATH=$(basename $SCRIPT_PATH)/docker-webserver
export CONTAINER_PREFIX=${PLUGIN_SLUG//[-._]/}

if [ "$1" = "start" ]; then
    $SCRIPT_PATH/docker-webserver/start.sh
    echo "Webserver started"

elif [ "$1" = "stop" ]; then
    $SCRIPT_PATH/docker-webserver/stop.sh
    echo "Webserver stopped"

elif [ "$1" = "clean" ]; then
    $SCRIPT_PATH/docker-webserver/clean.sh
    echo "Local files cleaned up"

else
    echo "Usage: $(basename $0) <start|stop|clean>"
    exit 1

fi